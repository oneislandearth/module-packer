!function(e,r){if("object"==typeof exports&&"object"==typeof module)module.exports=r();else if("function"==typeof define&&define.amd)define([],r);else{var o=r();for(var t in o)("object"==typeof exports?exports:e)[t]=o[t]}}(global,(function(){return(()=>{"use strict";var e={617:(e,r,o)=>{o.r(r),o.d(r,{copyResource:()=>h,executablePath:()=>b,findRootDirectory:()=>u,isPackage:()=>$,linkResource:()=>k,modulePath:()=>x,modulesDirectory:()=>y,packageDirectory:()=>p,packagePath:()=>m,readFile:()=>i,readJSON:()=>a,resourceDirectory:()=>f,resourcePath:()=>g,resourcePathExists:()=>P,workspaceDirectory:()=>d,workspacePath:()=>S,workspacePathExists:()=>v,writeFile:()=>c,writeJSON:()=>l});const t=require("fs"),n=require("path"),s="@oneisland/module-packer-dev",i=e=>(0,t.readFileSync)(e,{encoding:"utf-8"}),c=(e,r)=>(0,t.writeFileSync)(e,r),a=e=>JSON.parse(i(e)),l=(e,r)=>c(e,JSON.stringify(r,null,2)),u=(e,r)=>{if("/"==e)return"none";if((0,t.existsSync)((0,n.resolve)(e,"package.json"))){const{name:o}=a((0,n.resolve)(e,"package.json"));if(r&&r(o))return e}else if((0,t.existsSync)((0,n.resolve)(e,"node_modules")))return e;return u((0,n.resolve)(e,"../"),r||null)},d=u(process.cwd(),(e=>e!=s)).replace(/node_modules.*/,""),p=u(__dirname,(e=>e==s)),y=`${p.replace(/node_modules.*/,"")}/node_modules`,f=`${p}/resources`,m=e=>`${p}/${e}`,S=e=>`${d}/${e}`,x=e=>`${y}/${e}`,b=e=>`${y}/.bin/${e}`,g=e=>`${f}/${e}`,v=e=>(0,t.existsSync)(S(e)),P=e=>(0,t.existsSync)(g(e)),$="none"==d,k=(e,r)=>{P(e)&&!v(r)&&(0,t.symlinkSync)(g(e),S(r))},h=(e,r)=>{P(e)&&!v(r)&&(0,t.copyFileSync)(g(e),S(r))}}},r={};function o(t){if(r[t])return r[t].exports;var n=r[t]={exports:{}};return e[t](n,n.exports,o),n.exports}return o.d=(e,r)=>{for(var t in r)o.o(r,t)&&!o.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},o.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o(617)})()}));
//# sourceMappingURL=filesystem.js.map